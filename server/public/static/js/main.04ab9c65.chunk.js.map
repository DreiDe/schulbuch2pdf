{"version":3,"sources":["components/Header.js","components/Book.js","components/Books.js","components/Info.js","components/Input.js","components/Toast.js","socket.js","App.js","index.js"],"names":["Header","className","Book","url","name","isbn","id","onClick","src","alt","Books","books","map","book","key","Info","href","Input","onChange","onSubmit","e","preventDefault","type","placeholder","target","value","Toast","message","useEffect","error","info","socket","io","window","location","origin","App","useState","token","setToken","setBooks","toast","setToast","on","path","open","emit","res","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.04ab9c65.chunk.js","sourcesContent":["const Header = () => {\n    return (\n        <div className=\"bg-red-600 h-16 p-2 px-5 mx-10 rounded-b-lg text-white\">\n            <ul className=\"text-2xl h-full flex items-center\">\n                <li className=\"font-bold\">\n                    Schulbuch2Pdf\n                </li>\n            </ul>\n        </div>\n    )\n}\n\nexport default Header\n","const Book = ({url, name, isbn, id, onClick}) => {\n    return (\n        <div className=\"bg-white p-6 m-2 group relative w-80\">\n            <div className=\"absolute bg-black bg-opacity-0 group-hover:bg-opacity-60 w-full h-full top-0 left-0 flex items-center transition justify-center\">\n                <button onClick={() => onClick(id)} className=\"w-2/3 h-16 bg-blue-600 hover:bg-blue-500 opacity-0 group-hover:opacity-100 text-white\"><b>Download</b></button>\n            </div>\n            <img src={url} className=\"m-0\" alt=\"\"></img>    \n            <p>{name}</p>  \n            <p>{isbn}</p>\n        </div>\n    )\n}\n\nexport default Book\n","import Book from \"./Book\"\n\nconst Books = ({books, onClick}) => {\n    return (\n        <>\n            <p>Meine lizensierten Bücher:</p>\n            <div className=\"shadow-2xl w-full bg-white mt-1 h-96 relative flex items-center\">\n                {\n                    books ?\n                        <div className=\"flex flex-wrap justify-center bg-gray-200 m-auto\">\n                            {\n                                books.map(book => {\n                                    return <Book {...book} key={book.id} onClick={onClick} />\n                                })\n                            }\n                        </div>\n                        :\n                        <p className=\"mx-auto text-2xl text-center\">Bevor hier Bücher angezeigt werden, müssen Sie zuerst den Token in das Textfeld eingeben.</p>\n                }\n            </div>\n        </>\n    )\n}\n\nexport default Books\n","const Info = () => {\n    return (\n        <div>\n            <p className=\"text-2xl\">\n                Auf dieser Seite können Sie Schulbücher aus der BiBox des Westermann Verlags als PDF herunterladen. Dies funktioniert allerdings nur wenn sie zuvor eine Lizenz für das digitale Buch beim Verlag selber erworben haben.\n            </p>\n            <br></br>\n            <h3>Anleitung:</h3>\n            <ol>\n                <li>\n                    1. In der BiBox unter <a href=\"https://bibox2.westermann.de\" className=\"underline\">bibox2.westermann.de</a> ganz normal anmelden.\n                </li>\n                <li>\n                    2. Mit <b>F12</b> die Entwicklertools öffnen und dort auf den Tab \"Konsole\" klicken (Chrome/Firefox am PC).\n                </li>\n                <li>\n                    3. Folgenen Code Einfügen <b>localStorage.getItem(\"oauth.accessToken\")</b> und mit Enter ausführen.\n                </li>\n                <li>\n                    4. Den angezeigten Text kopieren (ohne Anführungzeichen) und in das Textfeld auf dieser Seite einfügen.\n                </li>\n                <li>\n                    5. Nun sollten die gekauften Werke unten aufgelistet werden und durch Klick auf \"Download\" heruntergeladen werden können.\n                </li>\n            </ol>\n        </div>\n    )\n}\n\nexport default Info\n","const Input = ({onChange, onSubmit}) => {\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        onSubmit();\n    }\n\n    return (\n        <form className=\"my-5\" onSubmit={handleSubmit}>\n            <label>\n                Hier den Text eingeben:\n                <br></br>\n                <input className=\"h-10 w-2/3 my-1 p-2\" type=\"text\" placeholder=\"eyJ0eX...\" onChange={e => onChange(e.target.value)} />\n            </label>\n            <button className=\"bg-red-600 p-2 px-4 text-white hover:bg-red-500\">Bücher abrufen</button>\n        </form>\n    )\n}\n\nexport default Input\n","import { useEffect } from 'react';\n\nconst Toast = ({message, type}) => {\n    const types = {\n        error: \"red-600\",\n        info: \"blue-600\"\n    }\n\n    useEffect(() => {\n        if(!message || type !== \"error\") return;\n    }, [message])\n\n    return (\n        message ?\n            <div className=\"fixed w-full bottom-0 mb-0 flex items-center\">\n                <div className={`mx-auto h-auto m-5 p-4 w-auto bg-${types[type]} rounded text-white`}>\n                    {message}\n                </div>\n            </div>\n            : null\n    )\n}\n\nexport default Toast\n","import io from \"socket.io-client\";\nexport const socket = io(`${window.location.origin}`);","import Header from './components/Header.js'\nimport Books from './components/Books.js';\nimport Info from './components/Info.js';\nimport Input from './components/Input.js';\nimport Toast from './components/Toast.js';\nimport { socket } from \"./socket\";\nimport { useState, useEffect } from 'react';\n\nfunction App() {\n  const [token, setToken] = useState();\n  const [books, setBooks] = useState();\n  const [toast, setToast] = useState();\n\n  const loadBooks = () => {\n    socket.emit('loadBooks', token, (res) => {\n      console.log(res);\n      setBooks(res);\n    });\n  }\n\n  const downloadBook = (id) => {\n    socket.emit('downloadBook', token, id, (res) => {\n      setBooks(res);\n    });\n  }\n\n  useEffect(() => {\n    socket.on('connect_error', function () {\n      setToast({ message: \"Es konnte keine Verbindung zum Server hergestellt werden.\", type: \"error\" });\n    });\n\n    socket.on('error', message => {\n      setToast({message, type: \"error\"});\n    });\n\n    socket.on('status', message => {\n      setToast({message, type: \"info\"});\n    });\n\n    socket.on('download', url => {\n      const path = `${window.location.origin}${url}`;\n      setToast({message: `Fertig. Download unter: ${path}`, type: \"info\"});\n      window.open(path,'_blank');\n    });\n  }, []);\n\n  return (\n    <div className=\"bg-gray-200\">\n      <Header />\n      <div className=\"px-20 py-10\">\n        <Info />\n        <Input onChange={setToken} onSubmit={loadBooks} />\n        <Books books={books} onClick={downloadBook} />\n      </div>\n      <Toast {...toast} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}