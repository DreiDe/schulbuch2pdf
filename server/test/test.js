import Westermann from '../Westermann.js';
import Cornelsen from '../Cornelsen.js';
import Buchner from '../Buchner.js';
import Klett from '../Klett.js';
import Downloader from '../Downloader.js';

const onMessage = (type, message) => {
    console.log(message);
}

const westermann = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjlkMDYzODQ1NGRkMjY4ODJiZTk2ZWQ1NTg2ZjgyZmI2NWE3ODM5ZGI3NGU1ZjlhMjFjMWUwZjYwOWZlN2Y5NWRjNGZjOTUxNjBiMjY0ODExIn0.eyJhdWQiOiJOdncwWkE4WiIsImp0aSI6IjlkMDYzODQ1NGRkMjY4ODJiZTk2ZWQ1NTg2ZjgyZmI2NWE3ODM5ZGI3NGU1ZjlhMjFjMWUwZjYwOWZlN2Y5NWRjNGZjOTUxNjBiMjY0ODExIiwiaWF0IjoxNjY2NDM3Njc1LCJuYmYiOjE2NjY0Mzc2NzUsImV4cCI6MTY2NjUyNDA3NSwic3ViIjoiYWltOjQ0ODQwNTk1Iiwic2NvcGVzIjpbIm9wZW5pZCJdfQ.ea7IlctBi8ryv22xhTHKnXbWcLRyXvHSz2qSK6edAQW5fdKHRUgAUX0--MdQbD9JhBBGnO40pi_r9qbNhRZbPgM55c1LuBz0DCp83UvMfHqSIyiBnY8eyxu8OTX7bx7h-MBvkFbyCD6jhcXiwFKAYWRZcXqjihI5pJORce2a4rw";
const cornelsen = "eyJraWQiOiJlZmE0YzM1Ny0xN2RmLTRiNTktYjMyZC05MmZkZTg0ZTllMDUiLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwczovL2lkLmNvcm5lbHNlbi5kZSIsImF1ZCI6IkAhMzhDNC42NTlGLjgwMDAuM0E3OSEwMDAxITdGMTIuMDNFMyEwMDA4ITEyOUYuRkYxRS4xOTI4LjJEN0QiLCJleHAiOjE2NjY1NjUwMTUsImlhdCI6MTY2NjU2MTQxNSwiYXV0aF90aW1lIjoxNjY2NDg2MDM1LCJhdF9oYXNoIjoiTnplMnRaR19maXFCVGZxWHBTTjkyQSIsIm94T3BlbklEQ29ubmVjdFZlcnNpb24iOiJvcGVuaWRjb25uZWN0LTEuMCIsInVzZXJfbmFtZSI6ImhlcmJlcnRtYWllcnNvY2lhbEBnbWFpbC5jb20iLCJjdl9zYXBfa2RuciI6IjU1ODg1MTI0IiwiaW51bSI6IkAhMzhDNC42NTlGLjgwMDAuM0E3OSEwMDAxITdGMTIuMDNFMyEwMDAwITVDNEYuQUQ3Mi45NjVELjc5MUEiLCJzdWIiOiJAITM4QzQuNjU5Ri44MDAwLjNBNzkhMDAwMSE3RjEyLjAzRTMhMDAwMCE1QzRGLkFENzIuOTY1RC43OTFBIiwicm9sZXMiOlsiWjAzIl19.FmJuGCaaZmkgW6cJ41O4zySe5JFbf5_kcg2z2r2-9JMvjs6droS5NS1SsVjazvPedlJCT7uB_P6Hd21AMNeHDLnrC9or7Tb8pzFigBYdMrn9zaHjfKe26XbtRerMACV9Gf1d_jddI5013bc3sbuyWAf4W7x1OJReAxpowjXfETPyonfnjwFYaV00ELL7BgKUujxT0qM7T9wZxjxvjnjegQd26TVZueoSlyKkhRTPlEVQu8k2ZnzvGtEJE91hBVRxzmWftpE97zlTRHku8c5hFwcxi1rtbKXAz4O08IdAYt6l3WqBuUbiXM-QHwqHozV0yBHiF0IuXRmnDzZ7IjmgKA";
const klett1 = "e0189c4a3b1882084a228c88aad4bad6";
const klett2 = "MTU0ODQ2OWQtYjUzOC00YmE5LWI0MjQtOTIxNGIxODI0YmQ1";
const buchner = "DE59B2807732169AAD7B6ED3099D0980";
const jwt = "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJsYXllciI6IkAhMzhDNC42NTlGLjgwMDAuM0E3OSEwMDAxITdGMTIuMDNFMyEwMDAwITVDNEYuQUQ3Mi45NjVELjc5MUFfMjIwMDUzODAyXzk3ODMwNjAzMTUzODMiLCJwZXJtaXNzaW9ucyI6WyJyZWFkLWRvY3VtZW50Iiwid3JpdGUiLCJjb3Zlci1pbWFnZSJdLCJpYXQiOjE2NjY1NTczOTUsImV4cCI6MTY2NjU3MTgwMCwiZG9jdW1lbnRfaWQiOiI5NzgzMDYwMzE1MzgzIiwidXNlcl9pZCI6IkAhMzhDNC42NTlGLjgwMDAuM0E3OSEwMDAxITdGMTIuMDNFMyEwMDAwITVDNEYuQUQ3Mi45NjVELjc5MUEifQ.Q9OdV9TiuhAgvEolh26ZvP1ySUkGAfM6MLNV8tr9LJzFixhHGfC0KYg51A4iCtVNUsltk7iYZaGLqSb490BlhLQzsW1UueAf1j27w_Q_NfWS72V4SetAIyHPIWJjW7lVcdSHaZ11IFXjsqXTd-dBObz_02IxfUBDJghH9xQ2-wAyblG28AJzJsZXjtq_VJIS3tAIvbPXuPOaPQiSt64yF1NPOJfKWE39zL08ExJPE6IWAphDOBymGX8UU9PafsYKDGAsXTjfVeKkhrRdEXPiDpuMqbGC5SIsewsOZpGWbW0QfAu84V3kwymREMUBHg45Wrwt5kb3Pr46KJff19GThXgVAr0xNH_89kWMWTmyfz7MSygs0BMptTwkfaTxjvEZkJ8tGEvyEBNY3PagguYIbI3z79NbHmqRzpwetQm9yz0VHBKrFqP9hABCLs9a82wyXDE-eF_R-7FDwzlj9pO_3Qj6a3AtdK15CkHoqZzNgcTeVaqEKADYPhFeC-U8uveGEmAX1PKy88Y4SmVqSpAXi-ipbVS1UKlBd1IMpwMAXd-rnWFNdmK45YEWTqeNKZnq3I8DK41HmYZ4LIpsF9RnagxyEIvVRVsLTMyWKC2xNIv13xepa_3s-ocs8JKx_Bw4izESEsSw1SlUyWdaDR_Wgr31LE8BcROCmO3FbV6100U";

//console.log(await (new Westermann(onMessage, westermann).downloadAllPages(559)));
//await (new Cornelsen(onMessage, cornelsen).downloadAllPages("220053802", "9783060315383"));
//console.log(await (new Buchner(onMessage, buchner).downloadAllPages(230)));
//console.log(await (new Klett(onMessage, klett1, klett2).downloadAllPages("EBK-AQ68Q3BXMT")));
//await Downloader.pdfFromTempFolder('./tmp/ea7d4be6-8b28-4f7e-be10-e3a6a79ac76a', console.log);
await Downloader.compressImagesInFolder('./tmp/77a9dfb9-fd6b-4a45-b94c-e0772455cf4a/', 1048576);
//await Downloader.pdfFromTempFolder('./tmp/744393db-3a4a-41dd-9595-8d87ffb10294/', onMessage);
//const result = await Downloader.pdfFromTempFolder('./tmp/3c6c3fd4-14c9-4bec-9270-1d883d4f32f3/', onMessage);
//Downloader.compressImagesInFolder('./tmp/eeb7eaef-6401-4264-b142-9058ed3ff88f/');

